(this["webpackJsonpmovie-theater"]=this["webpackJsonpmovie-theater"]||[]).push([[0],{52:function(n,e,t){},53:function(n,e,t){},78:function(n,e,t){"use strict";t.r(e);var r,i=t(1),a=t(0),c=t.n(a),o=t(38),s=t.n(o),u=(t(52),t(53),t(21)),l=t(4),d=t(6),j=t(19),b=t.n(j),h=t(25),p=t.n(h),v=t(39);function f(n,e){var t=Object(a.useState)(r.IDLE),i=Object(d.a)(t,2),c=i[0],o=i[1],s=Object(a.useState)(e),u=Object(d.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(),h=Object(d.a)(b,2),f=h[0],x=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(r.LOADING),e.next=4,n();case 4:t=e.sent,j(t),o(r.FETCHED),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),o(r.ERROR),x(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),[l,c,f]}!function(n){n.IDLE="IDLE",n.LOADING="LOADING",n.FETCHED="FETCHED",n.ERROR="ERROR"}(r||(r={}));var x=t(11),O=t(12),g=t(40),m=t.n(g),w=t(15),y=t(14),k=t(45),C=t(46),I=function n(e){var t=this;Object(x.a)(this,n),this.axiosInstance=void 0,this.resourceUrl=void 0,this.list=function(n){var e=n.url,r=void 0===e?t.resourceUrl:e,i=n.params,a=Object(C.a)(n,["url","params"]);return t.axiosInstance.get(r,Object(k.a)({params:i},a))},this.axiosInstance=e},R=function(n){Object(w.a)(t,n);var e=Object(y.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).resourceUrl="discover",n}return Object(O.a)(t,[{key:"popularMovies",value:function(){var n=new URLSearchParams;return n.append("sort_by","popularity.desc"),this.list({url:"".concat(this.resourceUrl,"/movie"),params:n})}}]),t}(I),M=function(n){Object(w.a)(t,n);var e=Object(y.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).resourceUrl="search",n}return Object(O.a)(t,[{key:"filterMovies",value:function(n){var e=new URLSearchParams;return e.append("query",n),this.list({url:"".concat(this.resourceUrl,"/movie"),params:e})}}]),t}(I),D=function(n){Object(w.a)(t,n);var e=Object(y.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).resourceUrl="movie",n}return Object(O.a)(t,[{key:"movieDetail",value:function(n){return this.list({url:"".concat(this.resourceUrl,"/").concat(n)})}}]),t}(I);var z=new(function(){function n(e){Object(x.a)(this,n),this.axiosInstance=void 0,this.discover=void 0,this.search=void 0,this.movies=void 0,this.basicResponse=function(n){return n.data},this.axiosInstance=m.a.create({baseURL:e}),this.addResponseInterceptor(this.basicResponse),this.discover=new R(this.axiosInstance),this.search=new M(this.axiosInstance),this.movies=new D(this.axiosInstance)}return Object(O.a)(n,[{key:"addRequestInterceptor",value:function(n){return this.axiosInstance.interceptors.request.use(n),this}},{key:"addResponseInterceptor",value:function(n){return this.axiosInstance.interceptors.response.use(n),this}}]),n}())("https://api.themoviedb.org/3/").addRequestInterceptor((function(n){return n.headers={Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYmUwN2Q1OTk4NzE0MGQwMDA4YjM4MTA5M2M3ODA3ZSIsInN1YiI6IjYwMGI0NTQ0MzcxMDk3MDAzZWEwYzIyMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1zjidFbrzynHnKtVqJ1_IjgpeBC19FXR4aPx2sdh078")},n})),E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),S=t(44),F=t(2),L=t(3);function Y(){var n=Object(F.a)(["\n  display: inline-block;\n  padding: 4px 4px 4px 0;\n  vertical-align: middle;\n  line-height: 1;\n  font-size: ","em;\n  color: ",";\n  transition: color 0.2s ease-out;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Y=function(){return n},n}var N={small:1,normal:1.5,large:2},A=L.a.label(Y(),(function(n){var e=n.size;return N[e]}),(function(n){return n.isSelected?"#ffd700":"#ababab"}));var U=function(n){var e=n.starts,t=void 0===e?5:e,r=n.rating,a=void 0===r?0:r,c=n.size,o=void 0===c?"normal":c,s=n.setRating;return Object(i.jsx)(i.Fragment,{children:Object(S.a)(Array(t)).map((function(n,e){return Object(i.jsx)(A,{size:o,isSelected:a>=e+1,onClick:function(){return null===s||void 0===s?void 0:s(e+1)},children:"\u2605"},e)}))})};function J(){var n=Object(F.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n\n  border-top: 2px solid grey;\n  border-right: 2px solid grey;\n  border-bottom: 2px solid grey;\n  border-left: 4px solid black;\n  background: transparent;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  margin: auto;\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]);return J=function(){return n},n}function T(){var n=Object(F.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return T=function(){return n},n}var _=Object(L.b)(T()),q=L.a.div(J(),_);var B=function(n){var e=n.state,t=n.children;return[r.IDLE,r.LOADING].includes(e)?Object(i.jsx)(q,{}):r.ERROR===e?Object(i.jsx)("h2",{className:"center",children:"Something went wrong..."}):Object(i.jsx)(i.Fragment,{children:t})};function G(){var n=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return G=function(){return n},n}function P(){var n=Object(F.a)(["\n  margin: 0px;\n"]);return P=function(){return n},n}function Q(){var n=Object(F.a)(["\n  margin: 20px 0 8px 0;\n"]);return Q=function(){return n},n}function W(){var n=Object(F.a)(["\n  margin-bottom: 0;\n  font-size: 1.1em;\n  font-weight: 400;\n  font-style: italic;\n  opacity: 0.7;\n"]);return W=function(){return n},n}function Z(){var n=Object(F.a)(["\n  display: flex;\n  align-items: center;\n\n  label {\n    padding-left: 0px;\n  }\n\n  span {\n    font-size: 1.2em;\n  }\n"]);return Z=function(){return n},n}function H(){var n=Object(F.a)(["\n  margin-top: 0px;\n"]);return H=function(){return n},n}function V(){var n=Object(F.a)(["\n  margin: 0px;\n  font-size: 2.2rem;\n  font-weight: 700;\n"]);return V=function(){return n},n}function X(){var n=Object(F.a)(["\n  flex: 1;\n"]);return X=function(){return n},n}function K(){var n=Object(F.a)(["\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  overflow: hidden;\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n"]);return K=function(){return n},n}function $(){var n=Object(F.a)(["\n  padding: 40px;\n  background-color: rgb(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  & > div {\n    margin: 20px;\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(F.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: top center;\n  color: white;\n"]);return nn=function(){return n},n}var en=L.a.div(nn(),(function(n){return n.image})),tn=L.a.div($()),rn=L.a.div(K()),an=L.a.div(X()),cn=L.a.h2(V()),on=L.a.p(H()),sn=L.a.div(Z()),un=L.a.h3(W()),ln=L.a.h2(Q()),dn=L.a.p(P()),jn=L.a.p(G());var bn=function(){var n=Object(l.g)().id,e=f(Object(a.useCallback)((function(){return z.movies.movieDetail(+n)}),[n]),{}),t=Object(d.a)(e,2),r=t[0],c=t[1],o=r.backdrop_path,s=r.poster_path,u=r.release_date,j=r.tagline,h=r.overview,p=r.title,v=r.original_title,x=r.genres,O=r.status,g=r.budget,m=r.revenue,w=r.vote_average,y=b()(u).format("YYYY"),k=b()(u).format("MM/DD/YYYY"),C=null===x||void 0===x?void 0:x.map((function(n){return n.name})).join(", ");return Object(i.jsx)(B,{state:c,children:Object(i.jsx)(en,{image:"https://image.tmdb.org/t/p/w500/".concat(o),children:Object(i.jsxs)(tn,{children:[Object(i.jsx)(rn,{children:Object(i.jsx)("img",{alt:"poster",src:"https://image.tmdb.org/t/p/w300/".concat(s)})}),Object(i.jsxs)(an,{children:[Object(i.jsx)(cn,{children:"".concat(p," (").concat(y,")")}),Object(i.jsx)(on,{children:"".concat(k," ").concat(C)}),Object(i.jsxs)(sn,{children:[Object(i.jsx)(U,{starts:1,rating:1,size:"large"}),Object(i.jsx)("span",{children:w})]}),Object(i.jsx)(un,{children:j}),Object(i.jsx)(ln,{children:"Overview"}),Object(i.jsx)(dn,{children:h}),Object(i.jsxs)(jn,{children:[Object(i.jsx)("strong",{children:"Original Title"}),v]}),Object(i.jsxs)(jn,{children:[Object(i.jsx)("strong",{children:"Status"}),O]}),Object(i.jsxs)(jn,{children:[Object(i.jsx)("strong",{children:"Budget"}),g?E.format(g):"-"]}),Object(i.jsxs)(jn,{children:[Object(i.jsx)("strong",{children:"Revenue"}),m?E.format(m):"-"]})]})]})})})};function hn(){var n=Object(F.a)(["\n  padding: 40px 60px;\n"]);return hn=function(){return n},n}var pn=L.a.div(hn()),vn=c.a.createContext({});function fn(){return c.a.useContext(vn)}function xn(){var n=Object(F.a)(["\n  text-align: center;\n  font-weight: normal;\n  color: white;\n"]);return xn=function(){return n},n}function On(){var n=Object(F.a)(["\n  text-align: center;\n  font-weight: bold;\n  font-size: 3em;\n  margin-bottom: 0px;\n  color: white;\n"]);return On=function(){return n},n}function gn(){var n=Object(F.a)(["\n  background-image: url('https://mauiwatch.com/wp-content/uploads/2019/10/9D9FFEEF-96E9-4C70-88C8-2F8F92FC4CE2.jpeg');\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: top center;\n"]);return gn=function(){return n},n}function mn(){var n=Object(F.a)(["\n  background-color: rgb(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 400px;\n"]);return mn=function(){return n},n}var wn=L.a.div(mn()),yn=L.a.div(gn()),kn=L.a.h1(On()),Cn=L.a.h2(xn());function In(){var n=Object(F.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n\n  input {\n    width: 50%;\n    padding: 12px 36px;\n    background-color: transparent;\n    transition: transform 250ms ease-in-out;\n    font-size: 0.9em;\n    color: white;\n    border-radius: 50px;\n    border: 1px solid white;\n    transition: all 250ms ease-in-out;\n    backface-visibility: hidden;\n    transform-style: preserve-3d;\n\n    &::placeholder {\n      color: white;\n    }\n\n    &:hover,\n    &:focus {\n      padding: 12px 38px;\n      outline: 0;\n      border: 1px solid transparent;\n      border-bottom: 1px solid white;\n      border-radius: 0;\n    }\n  }\n\n  svg {\n    margin-top: 3px;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    color: white;\n  }\n\n  .clear {\n    z-index: 1;\n    margin-left: -30px;\n  }\n\n  button {\n    z-index: 1;\n    margin-right: -30px;\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    cursor: pointer;\n    outline: inherit;\n  }\n"]);return In=function(){return n},n}var Rn=L.a.form(In());function Mn(n){var e=n.className;return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:Object(i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function Dn(n){var e=n.className,t=n.onClick;return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,onClick:t,children:Object(i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}var zn=function(){var n=fn(),e=n.input,t=n.setQuery,r=e.value,a=e.onChange,c=e.reset;return Object(i.jsxs)(Rn,{onSubmit:function(n){n.preventDefault(),t(r)},children:[Object(i.jsx)("button",{type:"submit",children:Object(i.jsx)(Mn,{})}),Object(i.jsx)("input",{placeholder:"Search for a movie",value:r,onChange:a}),r&&Object(i.jsx)(Dn,{className:"clear",onClick:function(){t(void 0),c()}})]})};var En=function(){return Object(i.jsx)(yn,{children:Object(i.jsxs)(wn,{children:[Object(i.jsx)(kn,{children:"Your favorite movies. Explained"}),Object(i.jsx)(Cn,{children:"Figure out what happened. Then find out why"}),Object(i.jsx)(zn,{})]})})};function Sn(){var n=Object(F.a)(["\n  margin-bottom: 20px;\n\n  h2 {\n    margin-top: 0px;\n  }\n\n  h3 {\n    margin: 0px;\n  }\n"]);return Sn=function(){return n},n}var Fn=L.a.div(Sn());function Ln(){var n=Object(F.a)(["\n  margin: auto;\n  text-align: center;\n"]);return Ln=function(){return n},n}function Yn(){var n=Object(F.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  justify-content: flex-start;\n  grid-gap: 20px;\n"]);return Yn=function(){return n},n}var Nn=L.a.div(Yn()),An=L.a.div(Ln());function Un(){var n=Object(F.a)(["\n  position: absolute;\n  top: -45px;\n  color: white;\n  padding: 6px;\n  border-radius: 40px;\n  background-color: rgb(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n\n  p {\n    margin: 0px;\n    margin-top: -5px;\n    font-size: 0.8em;\n  }\n"]);return Un=function(){return n},n}function Jn(){var n=Object(F.a)(["\n  font-size: 1em;\n  margin: 0;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.6);\n"]);return Jn=function(){return n},n}function Tn(){var n=Object(F.a)(["\n  font-size: 1em;\n  margin-top: 20px;\n  margin-bottom: 0px;\n  font-weight: 700;\n"]);return Tn=function(){return n},n}function _n(){var n=Object(F.a)(["\n  cursor: pointer;\n  position: relative;\n  margin-left: 5px;\n"]);return _n=function(){return n},n}function qn(){var n=Object(F.a)(["\n  cursor: pointer;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  width: 100%;\n  min-height: 250px;\n  height: 250px;\n  background: #dbdbdb;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]);return qn=function(){return n},n}var Bn=L.a.div(qn()),Gn=L.a.div(_n()),Pn=L.a.h2(Tn()),Qn=L.a.p(Jn()),Wn=L.a.div(Un());var Zn=function(n){var e=n.title,t=n.imagePath,r=n.releaseDate,a=n.voteAverage,c=n.onClick;return Object(i.jsxs)("div",{children:[Object(i.jsx)(Bn,{onClick:c,children:t&&Object(i.jsx)("img",{alt:"poster",src:"https://image.tmdb.org/t/p/w500/".concat(t)})}),Object(i.jsxs)(Gn,{onClick:c,children:[Object(i.jsxs)(Wn,{children:[Object(i.jsx)(U,{starts:1,rating:1,size:"small"}),Object(i.jsx)("p",{children:a})]}),Object(i.jsx)(Pn,{children:e}),Object(i.jsx)(Qn,{children:b()(r).format("MMM DD, YYYY")})]})]})};var Hn=function(n){var e=n.header,t=n.onMovieClicked,r=n.movies,a=void 0===r?[]:r,c=n.emptyComponent;return Object(i.jsxs)("div",{children:[e,0===a.length&&Object(i.jsx)(An,{children:c}),Object(i.jsx)(Nn,{children:a.map((function(n){return Object(i.jsx)(Zn,{onClick:function(){return t(n)},title:n.title,imagePath:n.poster_path,releaseDate:n.release_date,voteAverage:n.vote_average},n.id)}))})]})},Vn={1:[0,2],2:[2,4],3:[4,6],4:[6,8],5:[8,10]};var Xn=function(n){var e=n.onMovieClicked,t=fn(),r=t.movieResults,a=t.query,c=t.rating,o=t.setRating,s=r.results,u=null===s||void 0===s?void 0:s.filter((function(n){var e=n.vote_average;if(c){var t=Object(d.a)(Vn[c],2),r=t[0],i=t[1];return e>=r&&e<=i}return!0}));return Object(i.jsx)(Hn,{header:Object(i.jsxs)(Fn,{children:[Object(i.jsx)("h2",{children:"Search results for: ".concat(a)}),Object(i.jsx)("h3",{children:"Rating:"}),Object(i.jsx)(U,{rating:c,setRating:o})]}),movies:u,onMovieClicked:e,emptyComponent:Object(i.jsx)("h2",{children:"There are no results for your search"})})};var Kn=function(){var n=Object(l.f)(),e=function(e){var t=e.id;return n.push("movieDetail/".concat(t))},t=fn(),r=t.movieResults.results,a=t.state,c=t.query;return Object(i.jsxs)("div",{children:[Object(i.jsx)(En,{}),Object(i.jsx)(pn,{children:Object(i.jsx)(B,{state:a,children:c?Object(i.jsx)(Xn,{onMovieClicked:e}):Object(i.jsx)(Hn,{header:Object(i.jsx)("h2",{children:"Most popular"}),movies:r,onMovieClicked:e,emptyComponent:Object(i.jsx)("h3",{children:"There are no popular movies"})})})})]})};var $n=function(){return Object(i.jsx)(u.a,{basename:"/movie-theater",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/movieDetail/:id",children:Object(i.jsx)(bn,{})}),Object(i.jsx)(l.a,{path:"/",children:Object(i.jsx)(Kn,{})})]})})};function ne(){var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=Object(a.useState)(n),t=Object(d.a)(e,2),r=t[0],i=t[1],c=Object(a.useCallback)((function(n){var e=n.target;return i(null===e||void 0===e?void 0:e.value)}),[]),o=Object(a.useCallback)((function(){return i(n)}),[n]);return{value:r,onChange:c,reset:o,setValue:i}}(),e=Object(a.useState)(),t=Object(d.a)(e,2),r=t[0],i=t[1],c=Object(a.useState)(),o=Object(d.a)(c,2),s=o[0],u=o[1],l=f(Object(a.useCallback)((function(){return u(void 0),r?z.search.filterMovies(r):z.discover.popularMovies()}),[r]),{}),j=Object(d.a)(l,3);return{movieResults:j[0],state:j[1],error:j[2],input:n,query:r,setQuery:i,setRating:u,rating:s}}var ee=function(n){var e=n.children,t=ne();return Object(i.jsx)(vn.Provider,{value:t,children:e})};var te=function(){return Object(i.jsx)(ee,{children:Object(i.jsx)($n,{})})},re=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,79)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),a(n),c(n)}))};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(te,{})}),document.getElementById("root")),re()}},[[78,1,2]]]);
//# sourceMappingURL=main.01bdcd34.chunk.js.map